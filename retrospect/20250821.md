## 리뷰

---

### 1. ETL 파이프라인 구축

- Hyunkistore 도메인: 어제 ETL 파이프라인을 완성함.
- 공임나라 도메인: 오늘 표준공임표 ETL을 같은 방식으로 완성함.
    - 부품 데이터의 경우 HTML 문서 수가 많아 Spark를 활용했으나(실제로는 작은 규모),
    - 표준공임표 데이터는 전체 도메인을 크롤링해도 문서 크기가 작아 Spark의 장점을 활용하기 어려웠음.
    - 따라서 표준공임표는 Pandas 기반으로 처리하여 데이터를 적재함.

### 2. DW & DM

- DW (Data Warehouse):
    - PostgreSQL을 로컬에 띄워 구축.
    - 원천 데이터에서 가공된 Parquet 파일들을 통합 스키마로 변환하여 하나의 정형 데이터로 통합.
- DM (Data Mart):
    - DW 데이터를 집계하여 DM을 구성.
    - API 서버에서 직접 활용할 수 있는 형태로 제공.

### 3. API 서버

- FastAPI로 간단한 서버를 구축하여 로컬 배포.
- PostgreSQL과 연결하고, DTO–ORM–Service–Repository–Controller 구조로 MVC를 단순화하여 적용.
- 현재 API 문서 기준 첫 단계까지 구현 완료.

### 4. 부품 데이터 처리 정책

- 공식몰 가격표와 부품몰 가격표를 분리하여 관리.
- 공식몰을 우선적으로 제공하고, 부품몰에 해당 부품이 존재할 경우 추가 반영.
- 실제 정비 이력서를 테스트해본 결과, 부품몰 데이터만으로는 누락이 많아 공식몰 우선 정책을 선택.

### 5. 내일 계획

- 프로토타입 완성 및 AWS EC2 환경에서 테스트 진행.
- 공임비 매핑 로직을 설계 및 적용 예정.

## 회고

---

### Keep

### Problem

어제 AWS Secret Key가 로그 파일에 기록된 사실을 인지하지 못한 채 GitHub에 푸시하여 키가 유출되는 사고가 발생했다.

로그 파일을 전부 `.gitignore`에 추가했다고 생각했지만, 특정 파일 한 개가 키가 기록되기 전에 이미 로그 파일이 생성되어 Git에서 추적 대상이 된 상태였다.

평소에 시크릿 키와 같은 민감 정보를 코드 내에 직접 기입하지 않도록 주의했지만, 로그 파일까지는 신경 쓰지 못한 것이 문제였다. 또한 커밋 전에 스테이징 영역을 제대로 확인하지 않고, 습관적으로 `git add .` 명령어를 사용해 바로 커밋한 것이 부주의의 원인이 되었다.

앞으로는 커밋 시 항상 스테이징 파일을 꼼꼼히 확인하고, 보안 관리에 더욱 철저를 기하겠다.

### Try
